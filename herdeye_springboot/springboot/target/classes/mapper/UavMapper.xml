<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.UavMapper">

    <sql id="Base_Column_List">
        <if test="true">
            uavId,uavType,uavModel,uavIntroduce
        </if>
    </sql>

    <select id="selectAll" resultType="com.example.entity.Uav">
        select
        <include refid="Base_Column_List" />
        from uav
        <where>
            <if test="uavId != null"> and uavId= #{uavId}</if>
            <if test="uavType != null"> and uavType= #{uavType}</if>
            <if test="uavModel != null"> and uavModel= #{uavModel}</if>
            <if test="uavIntroduce != null"> and uavIntroduce= #{uavIntroduce}</if>
        </where>
        order by uavId desc
    </select>

    <select id="selectById" resultType="com.example.entity.Uav">
        select
        <include refid="Base_Column_List" />
        from uav
        where uavId = #{uavId}
    </select>

    <delete id="deleteById">
        delete from uav
        where  uavId = #{uavId}
    </delete>
    <insert id="insert" parameterType="com.example.entity.Uav" useGeneratedKeys="true">
        insert into uav
        <trim prefix="(" suffix=")" suffixOverrides=",">
                <if test="uavId != null">uavId,</if>
                <if test="uavType != null">uavType,</if>
                <if test="uavModel != null">uavModel,</if>
                <if test="uavIntroduce != null">uavIntroduce,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                <if test="uavId != null">#{uavId},</if>
                <if test="uavType != null">#{uavType},</if>
                <if test="uavModel != null">#{uavModel},</if>
                <if test="uavIntroduce != null">#{uavIntroduce},</if>
        </trim>
    </insert>

    <update id="updateById" parameterType="com.example.entity.Uav">
        update uav
        <set>
            <if test="uavType != null">
                uavType = #{uavType},
            </if>
            <if test="uavModel != null">
                uavModel = #{uavModel},
            </if>
            <if test="uavIntroduce != null">
                uavIntroduce = #{uavIntroduce},
            </if>
        </set>
        where uavId = #{uavId}
    </update>
</mapper>