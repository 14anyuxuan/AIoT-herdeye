<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.SensorMapper">

    <sql id="Base_Column_List">
        <if test="true">
            sensorId,sensorModel,sensorType,sensorPower,sensorPort,sensorIntroduce
        </if>
    </sql>

    <select id="selectAll" resultType="com.example.entity.Sensor">
        select
        <include refid="Base_Column_List" />
        from sensor
        <where>
            <if test="sensorId != null"> and sensorId= #{sensorId}</if>
            <if test="sensorModel != null"> and sensorModel= #{sensorModel}</if>
            <if test="sensorType != null"> and sensorType= #{sensorType}</if>
            <if test="sensorPower != null"> and sensorPower= #{sensorPower}</if>
            <if test="sensorPort != null"> and sensorPort= #{sensorPort}</if>
            <if test="sensorIntroduce != null"> and sensorIntroduce= #{sensorIntroduce}</if>
        </where>
        order by sensorId desc
    </select>

    <select id="selectById" resultType="com.example.entity.Sensor">
        select
        <include refid="Base_Column_List" />
        from sensor
        where sensorId = #{sensorId}
    </select>

    <delete id="deleteById">
        delete from sensor
        where  sensorId = #{sensorId}
    </delete>
    <insert id="insert" parameterType="com.example.entity.Sensor" useGeneratedKeys="true">
        insert into sensor
        <trim prefix="(" suffix=")" suffixOverrides=",">
                <if test="sensorId != null">sensorId,</if>
                <if test="sensorModel != null">sensorModel,</if>
                <if test="sensorType != null">sensorType,</if>
                <if test="sensorPower != null">sensorPower,</if>
                <if test="sensorPort != null">sensorPort,</if>
                <if test="sensorIntroduce != null">sensorIntroduce,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                <if test="sensorId != null">#{sensorId},</if>
                <if test="sensorModel != null">#{sensorModel},</if>
                <if test="sensorType != null">#{sensorType},</if>
                <if test="sensorPower != null">#{sensorPower},</if>
                <if test="sensorPort != null">#{sensorPort},</if>
                <if test="sensorIntroduce != null">#{sensorIntroduce},</if>
        </trim>
    </insert>

    <update id="updateById" parameterType="com.example.entity.Sensor">
        update sensor
        <set>
            <if test="sensorModel != null">
                sensorModel = #{sensorModel},
            </if>
            <if test="sensorType != null">
                sensorType = #{sensorType},
            </if>
            <if test="sensorPower != null">
                sensorPower = #{sensorPower},
            </if>
            <if test="sensorPort != null">
                sensorPort = #{sensorPort},
            </if>
            <if test="sensorIntroduce != null">
                sensorIntroduce = #{sensorIntroduce},
            </if>
        </set>
        where sensorId = #{sensorId}
    </update>
</mapper>