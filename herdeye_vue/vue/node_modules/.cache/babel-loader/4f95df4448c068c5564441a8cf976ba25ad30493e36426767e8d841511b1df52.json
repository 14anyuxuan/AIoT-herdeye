{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport * as echarts from 'echarts';\nimport markerIcon from '@/assets/imgs/icons8-åœˆå‘ä¸Š-64.png';\nexport default {\n  name: 'FarmMonitor',\n  data() {\n    return {\n      // æ ¸å¿ƒæ•°æ®\n      weather: {\n        date: `${new Date().getMonth() + 1}æœˆ${new Date().getDate()}æ—¥`,\n        weekday: ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'][new Date().getDay()],\n        weather: 'æ™´',\n        tempMin: 18,\n        tempMax: 30,\n        windDir: 'ä¸œé£',\n        windForce: '3çº§'\n      },\n      currDate: new Date().toLocaleDateString(),\n      loading: true,\n      // åŠ è½½çŠ¶æ€\n      temp: null,\n      // åˆå§‹ä¸ºnullï¼Œæ ‡è¯†æœªåŠ è½½\n      hum: null,\n      // åˆå§‹ä¸ºnullï¼Œæ ‡è¯†æœªåŠ è½½\n      tempHistory: [],\n      // ç§»é™¤é»˜è®¤æµ‹è¯•æ•°æ®ï¼Œåˆå§‹ä¸ºç©º\n      humHistory: [],\n      // ç§»é™¤é»˜è®¤æµ‹è¯•æ•°æ®ï¼Œåˆå§‹ä¸ºç©º\n      tempRange: {\n        min: 18,\n        max: 26\n      },\n      humRange: {\n        min: 40,\n        max: 60\n      },\n      // WebSocketé…ç½®\n      mainWs: null,\n      backendUrl: 'ws://8.152.103.136:9090/ws/data',\n      // è®¾å¤‡æ•°æ®\n      water: {\n        status: 0,\n        value: 0\n      },\n      weight: 50,\n      devices: [{\n        name: 'æ°´æ³µ',\n        status: 0\n      }, {\n        name: 'ç”µæœº',\n        status: 0\n      }, {\n        name: 'ç¯å…‰',\n        status: 0\n      }, {\n        name: 'é˜€é—¨',\n        status: 0\n      }, {\n        name: 'åŠ çƒ­',\n        status: 0\n      }, {\n        name: 'é£æœº',\n        status: 0\n      }],\n      // è¿æ¥ä¸é…ç½®çŠ¶æ€\n      mainConn: false,\n      mapConn: false,\n      lastUpdate: null,\n      // åˆå§‹æœªæ›´æ–°\n      maxHistory: 10,\n      barHeight: 120,\n      colors: ['#43a047', '#8bc34a', '#cddc39'],\n      weightPercent: 0,\n      tempWarn: false,\n      humWarn: false,\n      waterAlarm: false,\n      gradientBg: 'linear-gradient(to top, #43a047, #8bc34a, #cddc39)',\n      // åœ°å›¾ç›¸å…³\n      lng1: 1,\n      lat1: 1,\n      lnglat: null,\n      // åˆå§‹ä¸ºnull\n      course: 1,\n      mapStatus: 'åœ°å›¾åŠ è½½ä¸­...',\n      map: null,\n      marker: null,\n      // å›¾è¡¨å®ä¾‹\n      tempChart: null,\n      humChart: null,\n      hasReceivedData: false // æ ‡è¯†æ˜¯å¦é¦–æ¬¡æ¥æ”¶æ•°æ®\n    };\n  },\n  methods: {\n    // å›¾è¡¨åˆå§‹åŒ–ä¸æ¸²æŸ“\n    initCharts() {\n      const tempDom = document.getElementById('tempChart');\n      const humDom = document.getElementById('humChart');\n      if (!tempDom || !humDom) return;\n      this.tempChart = echarts.init(tempDom);\n      this.humChart = echarts.init(humDom);\n      window.addEventListener('resize', () => {\n        this.tempChart?.resize();\n        this.humChart?.resize();\n      });\n      this.renderCharts(); // åˆå§‹æ¸²æŸ“ï¼ˆç©ºæ•°æ®çŠ¶æ€ï¼‰\n    },\n    renderCharts() {\n      // å¤„ç†ç©ºæ•°æ®æƒ…å†µï¼šä½¿ç”¨é»˜è®¤èŒƒå›´\n      const getDefaultRange = type => {\n        return type === 'temp' ? {\n          min: this.tempRange.min - 2,\n          max: this.tempRange.max + 2\n        } : {\n          min: this.humRange.min - 5,\n          max: this.humRange.max + 5\n        };\n      };\n\n      // æ¸©åº¦å›¾è¡¨é…ç½®\n      const tempValues = this.tempHistory.map(i => i.value);\n      const tempTimes = this.tempHistory.map(i => i.time);\n      const tempRange = tempValues.length ? {\n        min: Math.min(...tempValues, this.tempRange.min) - 2,\n        max: Math.max(...tempValues, this.tempRange.max) + 2\n      } : getDefaultRange('temp');\n      this.tempChart.setOption({\n        tooltip: {\n          trigger: 'axis'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: tempTimes.length ? tempTimes : ['æš‚æ— æ•°æ®'],\n          axisLabel: {\n            rotate: 30\n          }\n        },\n        yAxis: {\n          type: 'value',\n          name: 'æ¸©åº¦(Â°C)',\n          min: tempRange.min,\n          max: tempRange.max,\n          markLine: {\n            data: [{\n              yAxis: this.tempRange.min,\n              name: 'æœ€ä½é˜ˆå€¼',\n              lineStyle: {\n                color: 'red'\n              }\n            }, {\n              yAxis: this.tempRange.max,\n              name: 'æœ€é«˜é˜ˆå€¼',\n              lineStyle: {\n                color: 'red'\n              }\n            }]\n          }\n        },\n        series: [{\n          name: 'æ¸©åº¦',\n          type: 'line',\n          data: tempValues.length ? tempValues : [null],\n          // ç©ºæ•°æ®æ—¶æ˜¾ç¤ºç©º\n          smooth: true,\n          lineStyle: {\n            color: '#e74c3c'\n          },\n          itemStyle: {\n            color: '#e74c3c'\n          },\n          areaStyle: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n              offset: 0,\n              color: 'rgba(231,76,60,0.3)'\n            }, {\n              offset: 1,\n              color: 'rgba(231,76,60,0)'\n            }])\n          }\n        }]\n      });\n\n      // æ¹¿åº¦å›¾è¡¨é…ç½®\n      const humValues = this.humHistory.map(i => i.value);\n      const humTimes = this.humHistory.map(i => i.time);\n      const humRange = humValues.length ? {\n        min: Math.min(...humValues, this.humRange.min) - 5,\n        max: Math.max(...humValues, this.humRange.max) + 5\n      } : getDefaultRange('hum');\n      this.humChart.setOption({\n        tooltip: {\n          trigger: 'axis'\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: humTimes.length ? humTimes : ['æš‚æ— æ•°æ®'],\n          axisLabel: {\n            rotate: 30\n          }\n        },\n        yAxis: {\n          type: 'value',\n          name: 'æ¹¿åº¦(%)',\n          min: humRange.min,\n          max: humRange.max,\n          markLine: {\n            data: [{\n              yAxis: this.humRange.min,\n              name: 'æœ€ä½é˜ˆå€¼',\n              lineStyle: {\n                color: 'blue'\n              }\n            }, {\n              yAxis: this.humRange.max,\n              name: 'æœ€é«˜é˜ˆå€¼',\n              lineStyle: {\n                color: 'blue'\n              }\n            }]\n          }\n        },\n        series: [{\n          name: 'æ¹¿åº¦',\n          type: 'line',\n          data: humValues.length ? humValues : [null],\n          // ç©ºæ•°æ®æ—¶æ˜¾ç¤ºç©º\n          smooth: true,\n          lineStyle: {\n            color: '#3498db'\n          },\n          itemStyle: {\n            color: '#3498db'\n          },\n          areaStyle: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n              offset: 0,\n              color: 'rgba(52,152,219,0.3)'\n            }, {\n              offset: 1,\n              color: 'rgba(52,152,219,0)'\n            }])\n          }\n        }]\n      });\n    },\n    // å†å²æ•°æ®æ›´æ–°ï¼ˆå¢åŠ é¦–æ¬¡æ•°æ®åˆå§‹åŒ–é€»è¾‘ï¼‰\n    updateHistory(ref, val, isFirst) {\n      const timeStr = new Date().toLocaleTimeString();\n      if (isFirst) {\n        // é¦–æ¬¡æ¥æ”¶æ•°æ®ï¼šç›´æ¥åˆå§‹åŒ–ï¼ˆå¡«å……maxHistoryæ¡ç›¸åŒæ•°æ®ï¼Œé¿å…å›¾è¡¨çªå˜ï¼‰\n        ref.splice(0, ref.length); // æ¸…ç©º\n        for (let i = 0; i < this.maxHistory; i++) {\n          ref.push({\n            time: timeStr,\n            value: val\n          });\n        }\n      } else {\n        // éé¦–æ¬¡ï¼šæ­£å¸¸è¿½åŠ å¹¶æˆªæ–­\n        ref.push({\n          time: timeStr,\n          value: val\n        });\n        if (ref.length > this.maxHistory) ref.shift();\n      }\n    },\n    // åœ°å›¾åˆå§‹åŒ–\n    initMap() {\n      const loadMap = () => new Promise((res, rej) => {\n        if (window.AMap) return res(window.AMap);\n        const script = document.createElement('script');\n        script.src = 'https://webapi.amap.com/maps?v=1.4.15&key=ä½ çš„é«˜å¾·Key';\n        script.onload = () => res(window.AMap || rej(new Error('åœ°å›¾åŠ è½½å¤±è´¥')));\n        script.onerror = () => rej(new Error('åœ°å›¾è„šæœ¬åŠ è½½å¤±è´¥'));\n        document.head.appendChild(script);\n      });\n      loadMap().then(AMap => {\n        this.map = new AMap.Map('map', {\n          resizeEnable: true,\n          zoom: 16,\n          center: [116.397470, 39.908823],\n          viewMode: '2D'\n        });\n        this.marker = new AMap.Marker({\n          position: [116.397470, 39.908823],\n          icon: new AMap.Icon({\n            size: new AMap.Size(32, 32),\n            image: markerIcon,\n            imageSize: new AMap.Size(64, 64),\n            imageOffset: new AMap.Pixel(-16, -16)\n          }),\n          anchor: 'center'\n        });\n        this.map.add(this.marker);\n        this.map.on('complete', () => this.mapStatus = 'åœ°å›¾å·²å°±ç»ª');\n        this.map.on('error', () => this.mapStatus = 'åœ°å›¾æ¸²æŸ“é”™è¯¯');\n      }).catch(err => {\n        this.mapStatus = 'åœ°å›¾åŠ è½½å¤±è´¥';\n        console.error(err);\n      });\n    },\n    // WebSocketåˆå§‹åŒ–\n    initWebSocket() {\n      this.mainWs = new WebSocket(this.backendUrl);\n      this.mainWs.onopen = () => {\n        this.mainConn = true;\n        this.mapConn = true;\n      };\n\n      // æ ¸å¿ƒæ•°æ®æå–ä¸å±•ç¤ºé€»è¾‘\n      this.mainWs.onmessage = event => {\n        this.loading = false;\n        try {\n          const data = JSON.parse(event.data);\n          console.log('æ¥æ”¶æ•°æ®:', data);\n\n          // ç¯å¢ƒæ•°æ®æ›´æ–° - æ·»åŠ ç±»å‹æ£€æŸ¥\n          const newTemp = typeof data.T === 'number' ? data.T : this.temp;\n          const newHum = typeof data.H === 'number' ? data.H : this.hum;\n          if (newTemp !== null) this.temp = newTemp;\n          if (newHum !== null) this.hum = newHum;\n\n          // é˜ˆå€¼è­¦å‘Šåˆ¤æ–­\n          this.tempWarn = this.temp !== null && (this.temp < this.tempRange.min || this.temp > this.tempRange.max);\n          this.humWarn = this.hum !== null && (this.hum < this.humRange.min || this.hum > this.humRange.max);\n\n          // æ°´ä½çŠ¶æ€æ›´æ–°\n          this.water = {\n            status: parseInt(data.water_level) || 0,\n            value: parseInt(data.water_level) || 0\n          };\n          this.waterAlarm = this.water.status === 1; // å½“æ°´ä½çŠ¶æ€ä¸º1ï¼ˆä¸è¶³ï¼‰æ—¶è§¦å‘è­¦å‘Š\n\n          // é¥²æ–™é‡é‡æ›´æ–°\n          this.weight = Math.min(Math.max(data.weight || 0, 0), 100);\n          this.weightPercent = Math.min(Math.max(this.weight, 0), 100);\n\n          // è®¾å¤‡çŠ¶æ€æ›´æ–°\n          this.devices[0].status = parseInt(data.pump) || 0; // æ°´æ³µ\n          this.devices[1].status = parseInt(data.motor) || 0; // ç”µæœº\n          this.devices[2].status = parseInt(data.light) || 0; // ç¯å…‰\n          this.devices[3].status = parseInt(data.door) || 0; // é˜€é—¨\n          this.devices[4].status = parseInt(data.heat) || 0; // åŠ çƒ­\n          this.devices[5].status = parseInt(data.fan) || 0; // é£æœº\n\n          // æ›´æ–°å†å²æ•°æ®ä¸å›¾è¡¨ï¼ˆé¦–æ¬¡æ•°æ®ç‰¹æ®Šå¤„ç†ï¼‰\n          const isFirst = !this.hasReceivedData;\n          if (this.temp !== null) {\n            this.updateHistory(this.tempHistory, this.temp, isFirst);\n          }\n          if (this.hum !== null) {\n            this.updateHistory(this.humHistory, this.hum, isFirst);\n          }\n\n          // æ ‡è®°å·²æ¥æ”¶è¿‡æ•°æ®\n          if (isFirst) this.hasReceivedData = true;\n          this.lastUpdate = new Date().toLocaleString();\n          this.renderCharts();\n\n          // åœ°å›¾ä½ç½®æ›´æ–°\n          if (data.lng && data.lat) {\n            this.lng1 = data.lng;\n            this.lat1 = data.lat;\n            this.lnglat = [this.lng1, this.lat1];\n            this.marker?.setPosition([data.lng + 0.01, data.lat - 0.001]);\n            this.map?.panTo([data.lng + 0.01, data.lat - 0.001], {\n              duration: 300\n            });\n          }\n          if (data.cogt) this.course = data.cogt;\n          this.marker?.setRotation((data.cogt % 360 + 360) % 360);\n        } catch (e) {\n          console.error('æ•°æ®è§£æå¤±è´¥:', e);\n        }\n      };\n      this.mainWs.onerror = () => {\n        this.mainConn = false;\n        this.mapConn = false;\n      };\n      this.mainWs.onclose = () => {\n        this.mainConn = false;\n        this.mapConn = false;\n        setTimeout(() => this.initWebSocket(), 3000);\n      };\n    },\n    // åˆ·æ–°æ•°æ®\n    refresh() {\n      if (this.mainWs?.readyState === WebSocket.OPEN) {\n        this.mainWs.send(JSON.stringify({\n          type: 'REFRESH_DATA'\n        }));\n        this.lastUpdate = new Date().toLocaleString();\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initCharts();\n      this.initMap();\n      this.initWebSocket();\n    });\n  },\n  beforeDestroy() {\n    // æ¸…ç†èµ„æº\n    this.mainWs?.close();\n    this.tempChart?.dispose();\n    this.humChart?.dispose();\n    this.map?.destroy();\n  }\n};","map":{"version":3,"names":["echarts","markerIcon","name","data","weather","date","Date","getMonth","getDate","weekday","getDay","tempMin","tempMax","windDir","windForce","currDate","toLocaleDateString","loading","temp","hum","tempHistory","humHistory","tempRange","min","max","humRange","mainWs","backendUrl","water","status","value","weight","devices","mainConn","mapConn","lastUpdate","maxHistory","barHeight","colors","weightPercent","tempWarn","humWarn","waterAlarm","gradientBg","lng1","lat1","lnglat","course","mapStatus","map","marker","tempChart","humChart","hasReceivedData","methods","initCharts","tempDom","document","getElementById","humDom","init","window","addEventListener","resize","renderCharts","getDefaultRange","type","tempValues","i","tempTimes","time","length","Math","setOption","tooltip","trigger","grid","left","right","bottom","containLabel","xAxis","axisLabel","rotate","yAxis","markLine","lineStyle","color","series","smooth","itemStyle","areaStyle","graphic","LinearGradient","offset","humValues","humTimes","updateHistory","ref","val","isFirst","timeStr","toLocaleTimeString","splice","push","shift","initMap","loadMap","Promise","res","rej","AMap","script","createElement","src","onload","Error","onerror","head","appendChild","then","Map","resizeEnable","zoom","center","viewMode","Marker","position","icon","Icon","size","Size","image","imageSize","imageOffset","Pixel","anchor","add","on","catch","err","console","error","initWebSocket","WebSocket","onopen","onmessage","event","JSON","parse","log","newTemp","T","newHum","H","parseInt","water_level","pump","motor","light","door","heat","fan","toLocaleString","lng","lat","setPosition","panTo","duration","cogt","setRotation","e","onclose","setTimeout","refresh","readyState","OPEN","send","stringify","mounted","$nextTick","beforeDestroy","close","dispose","destroy"],"sources":["src/views/manager/details.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->\r\n    <header class=\"top-bar\">\r\n      <div class=\"top-left\">\r\n        <h1>å…»æ®–åœºç¯å¢ƒç›‘æ§ç³»ç»Ÿ</h1>\r\n        <div class=\"weather-info\">\r\n          <span>{{ weather.date }} {{ weather.weekday }}</span>\r\n          <span>{{ weather.weather }}</span>\r\n          <span>{{ weather.tempMin }}Â°~{{ weather.tempMax }}Â°</span>\r\n          <span>{{ weather.windDir }} {{ weather.windForce }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"top-right\">\r\n        <div class=\"conn-status\">\r\n          <span class=\"dot\" :class=\"{ green: mainConn }\"></span>\r\n          <span>{{ mainConn ? 'è¿æ¥æ­£å¸¸' : 'è¿æ¥æ–­å¼€' }}</span>\r\n        </div>\r\n        <span>{{ currDate }}</span>\r\n      </div>\r\n    </header>\r\n\r\n    <!-- æ ¸å¿ƒå†…å®¹åŒº -->\r\n    <main class=\"main-content container\">\r\n      <!-- ç¯å¢ƒçŠ¶æ€æŒ‡æ ‡ -->\r\n      <section class=\"status-cards panel\">\r\n        <h2>ç¯å¢ƒè·Ÿè¸ª</h2>\r\n        <div class=\"cards\">\r\n          <div class=\"card\" :class=\"{ warn: tempWarn }\">\r\n            <div class=\"card-title\">å½“å‰æ¸©åº¦</div>\r\n            <div class=\"val\">{{ temp !== null ? temp.toFixed(1) + 'Â°C' : 'åŠ è½½ä¸­...' }}</div>\r\n            <div class=\"card-desc\">\r\n              <span>æ­£å¸¸èŒƒå›´: {{ tempRange.min }}Â°C - {{ tempRange.max }}Â°C</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"card\" :class=\"{ warn: humWarn }\">\r\n            <div class=\"card-title\">å½“å‰æ¹¿åº¦</div>\r\n            <div class=\"val\">{{ hum !== null ? hum.toFixed(1) + '%' : 'åŠ è½½ä¸­...' }}</div>\r\n            <div class=\"card-desc\">\r\n              <span>æ­£å¸¸èŒƒå›´: {{ humRange.min }}% - {{ humRange.max }}%</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <!-- è¶‹åŠ¿å›¾è¡¨ -->\r\n      <section class=\"charts panel\">\r\n        <h2>ç¯å¢ƒè¶‹åŠ¿</h2>\r\n        <div class=\"charts-grid\">\r\n          <div class=\"chart-box\">\r\n            <div class=\"chart-title\">æ¸©åº¦å†å²æ•°æ®</div>\r\n            <div id=\"tempChart\" class=\"chart\"></div>\r\n          </div>\r\n          <div class=\"chart-box\">\r\n            <div class=\"chart-title\">æ¹¿åº¦å†å²æ•°æ®</div>\r\n            <div id=\"humChart\" class=\"chart\"></div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <!-- è®¾å¤‡ä¸çŠ¶æ€ -->\r\n      <section class=\"device-info panel\">\r\n        <h2>è®¾å¤‡ä¸çŠ¶æ€ä¿¡æ¯</h2>\r\n        <div class=\"device-grid\">\r\n          <!-- æ°´ä½çŠ¶æ€ -->\r\n          <div class=\"device-card\" :class=\"{ warn: waterAlarm }\">\r\n            <div class=\"device-icon\">ğŸ“Š</div>\r\n            <div class=\"device-name\">æ°´ä½çŠ¶æ€</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: water.status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ water.status === 1 ? 'ä¸è¶³' : 'æ­£å¸¸' }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- é¥²æ–™é‡é‡ -->\r\n          <div class=\"device-card feed-card\">\r\n            <div class=\"device-icon\">ğŸŒ¾</div>\r\n            <div class=\"device-name\">é¥²æ–™é‡é‡</div>\r\n            <div class=\"progress-container\">\r\n              <div class=\"progress-bar\" :style=\"{ height: barHeight + 'px' }\">\r\n                <div \r\n                  class=\"progress-fill\" \r\n                  :class=\"{ low: weightPercent < 20 }\"\r\n                  :style=\"{ \r\n                    height: weightPercent + '%',\r\n                    background: gradientBg \r\n                  }\"\r\n                ></div>\r\n                <div \r\n                  class=\"progress-marker\"\r\n                  :style=\"{ bottom: weightPercent + '%' }\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"weight-info\">\r\n                <span>{{ weight.toFixed(1) }}g</span>\r\n                <span>{{ weightPercent }}%</span>\r\n                <span v-if=\"weightPercent < 20\" class=\"low-warning\">\r\n                  é¥²æ–™ä¸è¶³ï¼Œè¯·è¡¥å……!\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- æ°´æ³µè®¾å¤‡ -->\r\n          <div class=\"device-card\" :class=\"{ active: devices[0].status === 1 }\">\r\n            <div class=\"device-icon\">ğŸ’§</div>\r\n            <div class=\"device-name\">æ°´æ³µ</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: devices[0].status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ devices[0].status === 1 ? 'è¿è¡Œä¸­' : 'å·²å…³é—­' }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- ç”µæœºè®¾å¤‡ -->\r\n          <div class=\"device-card\" :class=\"{ active: devices[1].status === 1 }\">\r\n            <div class=\"device-icon\">ğŸ”Š</div>\r\n            <div class=\"device-name\">ç”µæœº</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: devices[1].status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ devices[1].status === 1 ? 'è¿è¡Œä¸­' : 'å·²å…³é—­' }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- ç¯å…‰è®¾å¤‡ -->\r\n          <div class=\"device-card\" :class=\"{ active: devices[2].status === 1 }\">\r\n            <div class=\"device-icon\">ğŸ’¡</div>\r\n            <div class=\"device-name\">ç¯å…‰</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: devices[2].status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ devices[2].status === 1 ? 'è¿è¡Œä¸­' : 'å·²å…³é—­' }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- é˜€é—¨è®¾å¤‡ -->\r\n          <div class=\"device-card\" :class=\"{ active: devices[3].status === 1 }\">\r\n            <div class=\"device-icon\">ğŸšª</div>\r\n            <div class=\"device-name\">é˜€é—¨</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: devices[3].status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ devices[3].status === 1 ? 'è¿è¡Œä¸­' : 'å·²å…³é—­' }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- åŠ çƒ­è®¾å¤‡ -->\r\n          <div class=\"device-card\" :class=\"{ active: devices[4].status === 1 }\">\r\n            <div class=\"device-icon\">ğŸ”¥</div>\r\n            <div class=\"device-name\">åŠ çƒ­</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: devices[4].status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ devices[4].status === 1 ? 'è¿è¡Œä¸­' : 'å·²å…³é—­' }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- é£æœºè®¾å¤‡ -->\r\n          <div class=\"device-card\" :class=\"{ active: devices[5].status === 1 }\">\r\n            <div class=\"device-icon\">ğŸ’¨</div>\r\n            <div class=\"device-name\">é£æœº</div>\r\n            <div class=\"device-status\">\r\n              <span class=\"status-indicator\" :class=\"{ active: devices[5].status === 1 }\"></span>\r\n              <span class=\"status-text\">{{ devices[5].status === 1 ? 'è¿è¡Œä¸­' : 'å·²å…³é—­' }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <!-- åœ°å›¾åŒºåŸŸ -->\r\n      <section class=\"map-section panel\">\r\n        <h2>ä½ç½®ç›‘æ§</h2>\r\n        <div class=\"map-container\">\r\n          <div id=\"map\" class=\"map-view\"></div>\r\n          <div class=\"map-status\">\r\n            <span>åœ°å›¾åç«¯è¿æ¥: </span>\r\n            <span :class=\"{ online: mapConn }\">{{ mapConn ? 'å·²è¿æ¥' : 'å·²æ–­å¼€' }}</span>\r\n            <span class=\"map-dot\" :class=\"{ green: mapConn }\"></span>\r\n          </div>\r\n          <div class=\"map-data\">\r\n            <div><span>ç»çº¬åº¦:</span> <span>{{ lnglat || 'ç­‰å¾…æ•°æ®...' }}</span></div>\r\n            <div><span>èˆªå‘è§’:</span> <span>{{ course || '0Â°' }}</span></div>\r\n            <div><span>åœ°å›¾çŠ¶æ€:</span> <span>{{ mapStatus }}</span></div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n\r\n    <footer class=\"footer\">\r\n      <div>æœ€åæ›´æ–°æ—¶é—´: {{ lastUpdate || 'æœªæ›´æ–°' }}</div>\r\n      <button class=\"refresh\" @click=\"refresh\">\r\n        <i class=\"fa fa-refresh\"></i> åˆ·æ–°æ•°æ®\r\n      </button>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport markerIcon from '@/assets/imgs/icons8-åœˆå‘ä¸Š-64.png'\r\n\r\nexport default {\r\n  name: 'FarmMonitor',\r\n  data() {\r\n    return {\r\n      // æ ¸å¿ƒæ•°æ®\r\n      weather: {\r\n        date: `${new Date().getMonth() + 1}æœˆ${new Date().getDate()}æ—¥`,\r\n        weekday: ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'][new Date().getDay()],\r\n        weather: 'æ™´',\r\n        tempMin: 18,\r\n        tempMax: 30,\r\n        windDir: 'ä¸œé£',\r\n        windForce: '3çº§'\r\n      },\r\n      currDate: new Date().toLocaleDateString(),\r\n      loading: true, // åŠ è½½çŠ¶æ€\r\n      temp: null, // åˆå§‹ä¸ºnullï¼Œæ ‡è¯†æœªåŠ è½½\r\n      hum: null, // åˆå§‹ä¸ºnullï¼Œæ ‡è¯†æœªåŠ è½½\r\n      tempHistory: [], // ç§»é™¤é»˜è®¤æµ‹è¯•æ•°æ®ï¼Œåˆå§‹ä¸ºç©º\r\n      humHistory: [], // ç§»é™¤é»˜è®¤æµ‹è¯•æ•°æ®ï¼Œåˆå§‹ä¸ºç©º\r\n      tempRange: { min: 18, max: 26 },\r\n      humRange: { min: 40, max: 60 },\r\n\r\n      // WebSocketé…ç½®\r\n      mainWs: null,\r\n      backendUrl: 'ws://8.152.103.136:9090/ws/data',\r\n\r\n      // è®¾å¤‡æ•°æ®\r\n      water: { status: 0, value: 0 },\r\n      weight: 50,\r\n      devices: [\r\n        { name: 'æ°´æ³µ', status: 0 },\r\n        { name: 'ç”µæœº', status: 0 },\r\n        { name: 'ç¯å…‰', status: 0 },\r\n        { name: 'é˜€é—¨', status: 0 },\r\n        { name: 'åŠ çƒ­', status: 0 },\r\n        { name: 'é£æœº', status: 0 }\r\n      ],\r\n\r\n      // è¿æ¥ä¸é…ç½®çŠ¶æ€\r\n      mainConn: false,\r\n      mapConn: false,\r\n      lastUpdate: null, // åˆå§‹æœªæ›´æ–°\r\n      maxHistory: 10,\r\n      barHeight: 120,\r\n      colors: ['#43a047', '#8bc34a', '#cddc39'],\r\n      weightPercent: 0,\r\n      tempWarn: false,\r\n      humWarn: false,\r\n      waterAlarm: false,\r\n      gradientBg: 'linear-gradient(to top, #43a047, #8bc34a, #cddc39)',\r\n\r\n      // åœ°å›¾ç›¸å…³\r\n      lng1: 1,\r\n      lat1: 1,\r\n      lnglat: null, // åˆå§‹ä¸ºnull\r\n      course: 1,\r\n      mapStatus: 'åœ°å›¾åŠ è½½ä¸­...',\r\n      map: null,\r\n      marker: null,\r\n\r\n      // å›¾è¡¨å®ä¾‹\r\n      tempChart: null,\r\n      humChart: null,\r\n      hasReceivedData: false // æ ‡è¯†æ˜¯å¦é¦–æ¬¡æ¥æ”¶æ•°æ®\r\n    }\r\n  },\r\n  methods: {\r\n    // å›¾è¡¨åˆå§‹åŒ–ä¸æ¸²æŸ“\r\n    initCharts() {\r\n      const tempDom = document.getElementById('tempChart')\r\n      const humDom = document.getElementById('humChart')\r\n      if (!tempDom || !humDom) return\r\n\r\n      this.tempChart = echarts.init(tempDom)\r\n      this.humChart = echarts.init(humDom)\r\n      \r\n      window.addEventListener('resize', () => {\r\n        this.tempChart?.resize()\r\n        this.humChart?.resize()\r\n      })\r\n      this.renderCharts() // åˆå§‹æ¸²æŸ“ï¼ˆç©ºæ•°æ®çŠ¶æ€ï¼‰\r\n    },\r\n    renderCharts() {\r\n      // å¤„ç†ç©ºæ•°æ®æƒ…å†µï¼šä½¿ç”¨é»˜è®¤èŒƒå›´\r\n      const getDefaultRange = (type) => {\r\n        return type === 'temp' \r\n          ? { min: this.tempRange.min - 2, max: this.tempRange.max + 2 }\r\n          : { min: this.humRange.min - 5, max: this.humRange.max + 5 }\r\n      }\r\n\r\n      // æ¸©åº¦å›¾è¡¨é…ç½®\r\n      const tempValues = this.tempHistory.map(i => i.value)\r\n      const tempTimes = this.tempHistory.map(i => i.time)\r\n      const tempRange = tempValues.length \r\n        ? { \r\n            min: Math.min(...tempValues, this.tempRange.min) - 2,\r\n            max: Math.max(...tempValues, this.tempRange.max) + 2\r\n          }\r\n        : getDefaultRange('temp')\r\n\r\n      this.tempChart.setOption({\r\n        tooltip: { trigger: 'axis' },\r\n        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },\r\n        xAxis: { \r\n          type: 'category', \r\n          data: tempTimes.length ? tempTimes : ['æš‚æ— æ•°æ®'],\r\n          axisLabel: { rotate: 30 } \r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          name: 'æ¸©åº¦(Â°C)',\r\n          min: tempRange.min,\r\n          max: tempRange.max,\r\n          markLine: {\r\n            data: [\r\n              { yAxis: this.tempRange.min, name: 'æœ€ä½é˜ˆå€¼', lineStyle: { color: 'red' } },\r\n              { yAxis: this.tempRange.max, name: 'æœ€é«˜é˜ˆå€¼', lineStyle: { color: 'red' } }\r\n            ]\r\n          }\r\n        },\r\n        series: [{\r\n          name: 'æ¸©åº¦',\r\n          type: 'line',\r\n          data: tempValues.length ? tempValues : [null], // ç©ºæ•°æ®æ—¶æ˜¾ç¤ºç©º\r\n          smooth: true,\r\n          lineStyle: { color: '#e74c3c' },\r\n          itemStyle: { color: '#e74c3c' },\r\n          areaStyle: { color: new echarts.graphic.LinearGradient(0,0,0,1,[\r\n            { offset: 0, color: 'rgba(231,76,60,0.3)' },\r\n            { offset: 1, color: 'rgba(231,76,60,0)' }\r\n          ])}\r\n        }]\r\n      })\r\n\r\n      // æ¹¿åº¦å›¾è¡¨é…ç½®\r\n      const humValues = this.humHistory.map(i => i.value)\r\n      const humTimes = this.humHistory.map(i => i.time)\r\n      const humRange = humValues.length \r\n        ? { \r\n            min: Math.min(...humValues, this.humRange.min) - 5,\r\n            max: Math.max(...humValues, this.humRange.max) + 5\r\n          }\r\n        : getDefaultRange('hum')\r\n\r\n      this.humChart.setOption({\r\n        tooltip: { trigger: 'axis' },\r\n        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },\r\n        xAxis: { \r\n          type: 'category', \r\n          data: humTimes.length ? humTimes : ['æš‚æ— æ•°æ®'],\r\n          axisLabel: { rotate: 30 } \r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          name: 'æ¹¿åº¦(%)',\r\n          min: humRange.min,\r\n          max: humRange.max,\r\n          markLine: {\r\n            data: [\r\n              { yAxis: this.humRange.min, name: 'æœ€ä½é˜ˆå€¼', lineStyle: { color: 'blue' } },\r\n              { yAxis: this.humRange.max, name: 'æœ€é«˜é˜ˆå€¼', lineStyle: { color: 'blue' } }\r\n            ]\r\n          }\r\n        },\r\n        series: [{\r\n          name: 'æ¹¿åº¦',\r\n          type: 'line',\r\n          data: humValues.length ? humValues : [null], // ç©ºæ•°æ®æ—¶æ˜¾ç¤ºç©º\r\n          smooth: true,\r\n          lineStyle: { color: '#3498db' },\r\n          itemStyle: { color: '#3498db' },\r\n          areaStyle: { color: new echarts.graphic.LinearGradient(0,0,0,1,[\r\n            { offset: 0, color: 'rgba(52,152,219,0.3)' },\r\n            { offset: 1, color: 'rgba(52,152,219,0)' }\r\n          ])}\r\n        }]\r\n      })\r\n    },\r\n\r\n    // å†å²æ•°æ®æ›´æ–°ï¼ˆå¢åŠ é¦–æ¬¡æ•°æ®åˆå§‹åŒ–é€»è¾‘ï¼‰\r\n    updateHistory(ref, val, isFirst) {\r\n      const timeStr = new Date().toLocaleTimeString()\r\n      if (isFirst) {\r\n        // é¦–æ¬¡æ¥æ”¶æ•°æ®ï¼šç›´æ¥åˆå§‹åŒ–ï¼ˆå¡«å……maxHistoryæ¡ç›¸åŒæ•°æ®ï¼Œé¿å…å›¾è¡¨çªå˜ï¼‰\r\n        ref.splice(0, ref.length) // æ¸…ç©º\r\n        for (let i = 0; i < this.maxHistory; i++) {\r\n          ref.push({ time: timeStr, value: val })\r\n        }\r\n      } else {\r\n        // éé¦–æ¬¡ï¼šæ­£å¸¸è¿½åŠ å¹¶æˆªæ–­\r\n        ref.push({ time: timeStr, value: val })\r\n        if (ref.length > this.maxHistory) ref.shift()\r\n      }\r\n    },\r\n\r\n    // åœ°å›¾åˆå§‹åŒ–\r\n    initMap() {\r\n      const loadMap = () => new Promise((res, rej) => {\r\n        if (window.AMap) return res(window.AMap)\r\n        const script = document.createElement('script')\r\n        script.src = 'https://webapi.amap.com/maps?v=1.4.15&key=ä½ çš„é«˜å¾·Key'\r\n        script.onload = () => res(window.AMap || rej(new Error('åœ°å›¾åŠ è½½å¤±è´¥')))\r\n        script.onerror = () => rej(new Error('åœ°å›¾è„šæœ¬åŠ è½½å¤±è´¥'))\r\n        document.head.appendChild(script)\r\n      })\r\n\r\n      loadMap().then(AMap => {\r\n        this.map = new AMap.Map('map', {\r\n          resizeEnable: true,\r\n          zoom: 16,\r\n          center: [116.397470, 39.908823],\r\n          viewMode: '2D'\r\n        })\r\n  \r\n        this.marker = new AMap.Marker({\r\n          position: [116.397470, 39.908823],\r\n          icon: new AMap.Icon({\r\n            size: new AMap.Size(32, 32),\r\n            image: markerIcon,\r\n            imageSize: new AMap.Size(64, 64),\r\n            imageOffset: new AMap.Pixel(-16, -16)\r\n          }),\r\n          anchor: 'center'\r\n        })\r\n        this.map.add(this.marker)\r\n        \r\n        this.map.on('complete', () => this.mapStatus = 'åœ°å›¾å·²å°±ç»ª')\r\n        this.map.on('error', () => this.mapStatus = 'åœ°å›¾æ¸²æŸ“é”™è¯¯')\r\n      }).catch(err => {\r\n        this.mapStatus = 'åœ°å›¾åŠ è½½å¤±è´¥'\r\n        console.error(err)\r\n      })\r\n    },\r\n\r\n    // WebSocketåˆå§‹åŒ–\r\n    initWebSocket() {\r\n      this.mainWs = new WebSocket(this.backendUrl)\r\n      \r\n      this.mainWs.onopen = () => {\r\n        this.mainConn = true\r\n        this.mapConn = true\r\n      }\r\n      \r\n      // æ ¸å¿ƒæ•°æ®æå–ä¸å±•ç¤ºé€»è¾‘\r\n      this.mainWs.onmessage = (event) => {\r\n        this.loading = false\r\n        try {\r\n          const data = JSON.parse(event.data)\r\n          console.log('æ¥æ”¶æ•°æ®:', data)\r\n          \r\n          // ç¯å¢ƒæ•°æ®æ›´æ–° - æ·»åŠ ç±»å‹æ£€æŸ¥\r\n          const newTemp = typeof data.T === 'number' ? data.T : this.temp\r\n          const newHum = typeof data.H === 'number' ? data.H : this.hum\r\n          \r\n          if (newTemp !== null) this.temp = newTemp\r\n          if (newHum !== null) this.hum = newHum\r\n          \r\n          // é˜ˆå€¼è­¦å‘Šåˆ¤æ–­\r\n          this.tempWarn = this.temp !== null && (this.temp < this.tempRange.min || this.temp > this.tempRange.max)\r\n          this.humWarn = this.hum !== null && (this.hum < this.humRange.min || this.hum > this.humRange.max)\r\n        \r\n          // æ°´ä½çŠ¶æ€æ›´æ–°\r\n          this.water = {\r\n            status: parseInt(data.water_level) || 0,\r\n            value: parseInt(data.water_level) || 0\r\n          }\r\n          this.waterAlarm = this.water.status === 1  // å½“æ°´ä½çŠ¶æ€ä¸º1ï¼ˆä¸è¶³ï¼‰æ—¶è§¦å‘è­¦å‘Š\r\n        \r\n          // é¥²æ–™é‡é‡æ›´æ–°\r\n          this.weight = Math.min(Math.max((data.weight) || 0, 0), 100)\r\n          this.weightPercent = Math.min(Math.max(this.weight, 0), 100)\r\n          \r\n          // è®¾å¤‡çŠ¶æ€æ›´æ–°\r\n          this.devices[0].status = parseInt(data.pump) || 0    // æ°´æ³µ\r\n          this.devices[1].status = parseInt(data.motor) || 0   // ç”µæœº\r\n          this.devices[2].status = parseInt(data.light) || 0   // ç¯å…‰\r\n          this.devices[3].status = parseInt(data.door) || 0    // é˜€é—¨\r\n          this.devices[4].status = parseInt(data.heat) || 0    // åŠ çƒ­\r\n          this.devices[5].status = parseInt(data.fan) || 0     // é£æœº\r\n\r\n          // æ›´æ–°å†å²æ•°æ®ä¸å›¾è¡¨ï¼ˆé¦–æ¬¡æ•°æ®ç‰¹æ®Šå¤„ç†ï¼‰\r\n          const isFirst = !this.hasReceivedData\r\n          if (this.temp !== null) {\r\n            this.updateHistory(this.tempHistory, this.temp, isFirst)\r\n          }\r\n          if (this.hum !== null) {\r\n            this.updateHistory(this.humHistory, this.hum, isFirst)\r\n          }\r\n          \r\n          // æ ‡è®°å·²æ¥æ”¶è¿‡æ•°æ®\r\n          if (isFirst) this.hasReceivedData = true\r\n          \r\n          this.lastUpdate = new Date().toLocaleString()\r\n          this.renderCharts()\r\n          \r\n          // åœ°å›¾ä½ç½®æ›´æ–°\r\n          if (data.lng && data.lat) {\r\n            this.lng1 = data.lng\r\n            this.lat1 = data.lat\r\n            this.lnglat = [this.lng1, this.lat1]\r\n            this.marker?.setPosition([data.lng + 0.01, data.lat - 0.001])\r\n            this.map?.panTo([(data.lng) + 0.01, (data.lat) - 0.001], { duration: 300 })\r\n          }\r\n          if (data.cogt) this.course = data.cogt\r\n          this.marker?.setRotation((((data.cogt) % 360) + 360) % 360)\r\n          \r\n        } catch (e) {\r\n          console.error('æ•°æ®è§£æå¤±è´¥:', e)\r\n        }\r\n      }\r\n      \r\n      this.mainWs.onerror = () => {\r\n        this.mainConn = false\r\n        this.mapConn = false\r\n      }\r\n      \r\n      this.mainWs.onclose = () => {\r\n        this.mainConn = false\r\n        this.mapConn = false\r\n        setTimeout(() => this.initWebSocket(), 3000)\r\n      }\r\n    },\r\n    \r\n    // åˆ·æ–°æ•°æ®\r\n    refresh() {\r\n      if (this.mainWs?.readyState === WebSocket.OPEN) {\r\n        this.mainWs.send(JSON.stringify({ type: 'REFRESH_DATA' }))\r\n        this.lastUpdate = new Date().toLocaleString()\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.initCharts()\r\n      this.initMap()\r\n      this.initWebSocket()\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n    // æ¸…ç†èµ„æº\r\n    this.mainWs?.close()\r\n    this.tempChart?.dispose()\r\n    this.humChart?.dispose()\r\n    this.map?.destroy()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* å…¨å±€æ ·å¼ä¼˜åŒ– */\r\n* { \r\n  margin: 0; \r\n  padding: 0; \r\n  box-sizing: border-box; \r\n}\r\n.dashboard { \r\n  font-family: 'Microsoft YaHei', 'Segoe UI', Roboto, sans-serif; \r\n  display: flex; \r\n  flex-direction: column; \r\n  background: #f5f7fa; \r\n  min-height: 100vh; \r\n  color: #333;\r\n}\r\n\r\n/* é¡¶éƒ¨æ ä¼˜åŒ–ï¼šå“åº”å¼å †å  */\r\n.top-bar { \r\n  display: flex; \r\n  justify-content: space-between; \r\n  align-items: center; \r\n  padding: 1rem 2rem; \r\n  background: #2c3e50; \r\n  color: #fff; \r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.15); \r\n  flex-wrap: wrap; \r\n  gap: 1rem; \r\n  z-index: 10;\r\n}\r\n/* é¡¶éƒ¨å·¦å³åˆ†åŒºï¼Œå°å±å¹•è‡ªåŠ¨å †å  */\r\n.top-left { flex: 1; min-width: 280px; }\r\n.top-left h1 {\r\n  font-size: 1.5rem;\r\n  margin-bottom: 0.3rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n.top-left h1::before {\r\n  content: 'ğŸ“Š';\r\n  font-size: 1.8rem;\r\n}\r\n.top-right { flex: 0 0 auto; display: flex; align-items: center; gap: 1.5rem; }\r\n.weather-info { \r\n  display: flex; \r\n  gap: 1.5rem; \r\n  font-size: 0.9rem; \r\n  color: #e0e0e0; \r\n  flex-wrap: wrap;  /* å¤©æ°”ä¿¡æ¯è¿‡å¤šæ—¶è‡ªåŠ¨æ¢è¡Œ */\r\n}\r\n.conn-status { display: flex; align-items: center; gap: 0.5rem; }\r\n.dot { \r\n  display: inline-block; \r\n  width: 10px; \r\n  height: 10px; \r\n  border-radius: 50%; \r\n  background: #e74c3c;\r\n  box-shadow: 0 0 0 rgba(231, 76, 60, 0.4);\r\n  animation: pulse-off 1.5s infinite;\r\n}\r\n.dot.green { \r\n  background: #27ae60;\r\n  box-shadow: 0 0 0 rgba(39, 174, 96, 0.4);\r\n  animation: pulse-on 1.5s infinite;\r\n}\r\n.currDate { font-size: 0.9rem; }\r\n\r\n/* ä¸»å†…å®¹åŒºä¼˜åŒ–ï¼šå®¹å™¨åŒ–+é—´è·ç»Ÿä¸€ */\r\n.main-content { \r\n  flex: 1; \r\n  padding: 1.5rem; \r\n  display: flex; \r\n  flex-direction: column; \r\n  gap: 1.5rem;  /* ç»Ÿä¸€æ¨¡å—é—´è· */\r\n  overflow-y: auto; \r\n}\r\n/* å®¹å™¨é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé¿å…å¤§å±è¿‡å®½ */\r\n.container { \r\n  max-width: 1600px; \r\n  margin: 0 auto;  /* å±…ä¸­æ˜¾ç¤º */\r\n  width: 100%; \r\n  padding: 0 1rem; \r\n}\r\n/* é¢æ¿æ ·å¼ï¼šç»Ÿä¸€æ¨¡å—å¤–è§‚ */\r\n.panel { \r\n  background: #fff; \r\n  border-radius: 10px; \r\n  box-shadow: 0 4px 15px rgba(0,0,0,0.05); \r\n  padding: 1.5rem; \r\n  transition: all 0.3s ease; \r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.panel::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 4px;\r\n  height: 100%;\r\n  background: #3498db;\r\n}\r\n.panel:hover { \r\n  box-shadow: 0 8px 25px rgba(0,0,0,0.1);\r\n  transform: translateY(-2px);\r\n}\r\nh2 { \r\n  font-size: 1.3rem; \r\n  color: #2c3e50; \r\n  margin-bottom: 1.2rem; \r\n  padding-left: 0.8rem;\r\n  font-weight: 600;\r\n  position: relative;\r\n}\r\nh2::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 4px;\r\n  height: 16px;\r\n  background: #3498db;\r\n  border-radius: 2px;\r\n}\r\n\r\n/* ç¯å¢ƒçŠ¶æ€å¡ç‰‡ä¼˜åŒ–ï¼šç´§å‡‘å¸ƒå±€ */\r\n.status-cards .cards { \r\n  display: grid; \r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));  /* è‡ªé€‚åº”åˆ—æ•° */\r\n  gap: 1.5rem; \r\n}\r\n.status-cards .card { \r\n  background: #fff; \r\n  border-radius: 8px; \r\n  box-shadow: 0 3px 10px rgba(0,0,0,0.08); \r\n  padding: 1.2rem; \r\n  display: flex; \r\n  flex-direction: column; \r\n  gap: 0.8rem; \r\n  border: 1px solid #f0f0f0;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.status-cards .card::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 3px;\r\n  background: linear-gradient(90deg, #3498db, #2980b9);\r\n  transform: scaleX(0);\r\n  transition: transform 0.3s ease;\r\n}\r\n.status-cards .card:hover::after {\r\n  transform: scaleX(1);\r\n}\r\n.status-cards .card:hover { \r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 20px rgba(0,0,0,0.12);\r\n}\r\n.status-cards .card.warn { \r\n  border-color: #f8d7da;\r\n  background: #fff8f8;\r\n}\r\n.status-cards .card.warn::after {\r\n  background: linear-gradient(90deg, #e74c3c, #c0392b);\r\n}\r\n.status-cards .card-title {\r\n  font-size: 0.95rem;\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n.status-cards .val { \r\n  font-size: 2.2rem; \r\n  font-weight: 600; \r\n  color: #2c3e50; \r\n  line-height: 1.2;\r\n}\r\n.status-cards .card-desc {\r\n  font-size: 0.85rem;\r\n  color: #888;\r\n  margin-top: auto;\r\n}\r\n\r\n/* å›¾è¡¨åŒºåŸŸä¼˜åŒ–ï¼šå“åº”å¼è‡ªé€‚åº” */\r\n.charts .charts-grid { \r\n  display: grid; \r\n  grid-template-columns: 1fr;  /* é»˜è®¤å•åˆ—ï¼Œå¤§å±è‡ªåŠ¨è°ƒæ•´ */\r\n  gap: 1.5rem; \r\n  height: 400px; \r\n}\r\n/* ä¸­ç­‰å±å¹•ä»¥ä¸Šæ˜¾ç¤ºåŒåˆ— */\r\n@media (min-width: 992px) {\r\n  .charts .charts-grid { grid-template-columns: repeat(2, 1fr); }\r\n}\r\n.chart-box { \r\n  display: flex; \r\n  flex-direction: column; \r\n  gap: 0.8rem; \r\n  background: rgba(255,255,255,0.5);\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\r\n}\r\n.chart-title {  /* å›¾è¡¨æ ‡é¢˜æ ·å¼ */\r\n  font-size: 1rem;\r\n  color: #555;\r\n  padding-left: 0.5rem;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n.chart-title::before {\r\n  content: '';\r\n  width: 3px;\r\n  height: 14px;\r\n  background: #3498db;\r\n  border-radius: 2px;\r\n}\r\n.chart-box .chart { \r\n  width: 100%; \r\n  height: 100%; \r\n  min-height: 250px; \r\n}\r\n\r\n\r\n/* è®¾å¤‡ä¿¡æ¯åŒºåŸŸä¼˜åŒ–ï¼šçµæ´»ç½‘æ ¼ */\r\n.device-info { \r\n  padding-bottom: 1.5rem; \r\n}\r\n.device-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));  /* è‡ªé€‚åº”åˆ—æ•° */\r\n  gap: 1.2rem;\r\n}\r\n\r\n/* è®¾å¤‡å¡ç‰‡ä¼˜åŒ–ï¼šç»Ÿä¸€å°ºå¯¸ä¸äº¤äº’ */\r\n.device-card {\r\n  height: 100%;\r\n  min-height: 160px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  padding: 1.2rem;\r\n  transition: all 0.3s ease;\r\n  border-radius: 10px;\r\n  background: #fff;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.06);\r\n  border: 1px solid #f0f0f0;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.device-card::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 3px;\r\n  background: transparent;\r\n  transition: background 0.3s ease;\r\n}\r\n.device-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 10px 25px rgba(0,0,0,0.1);\r\n  border-color: #e0e0e0;\r\n}\r\n.device-card:hover::before {\r\n  background: linear-gradient(90deg, #3498db, #2980b9);\r\n}\r\n.device-card.active {\r\n  border-color: #e3f2fd;\r\n  background: #f8fcff;\r\n}\r\n.device-card.active::before {\r\n  background: linear-gradient(90deg, #4caf50, #388e3c);\r\n}\r\n.device-card.warn {\r\n  border-color: #ffebee;\r\n  background: #fff8f8;\r\n}\r\n.device-card.warn::before {\r\n  background: linear-gradient(90deg, #e74c3c, #c62828);\r\n}\r\n\r\n/* è®¾å¤‡å¡ç‰‡å†…éƒ¨å…ƒç´ æ ·å¼ */\r\n.device-icon {\r\n  font-size: 2.2rem;\r\n  margin-bottom: 0.8rem;\r\n  color: #555;\r\n  transition: transform 0.3s ease, color 0.3s ease;\r\n}\r\n.device-card:hover .device-icon {\r\n  transform: scale(1.1);\r\n}\r\n.device-card.active .device-icon {\r\n  color: #4caf50;\r\n}\r\n.device-card.warn .device-icon {\r\n  color: #e74c3c;\r\n  animation: pulse 1.5s infinite;\r\n}\r\n.device-name {\r\n  font-weight: 500;\r\n  font-size: 1rem;\r\n  color: #333;\r\n  margin-bottom: 0.8rem;\r\n}\r\n.device-status {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n.status-indicator {\r\n  display: inline-block;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  background: #bdbdbd;\r\n  box-shadow: 0 0 0 rgba(189, 189, 189, 0.4);\r\n  transition: all 0.3s ease;\r\n}\r\n.status-indicator.active {\r\n  background: #4caf50;\r\n  box-shadow: 0 0 0 rgba(76, 175, 80, 0.4);\r\n  animation: pulse-on 1.5s infinite;\r\n}\r\n.device-card.warn .status-indicator {\r\n  background: #e74c3c;\r\n  box-shadow: 0 0 0 rgba(231, 76, 60, 0.4);\r\n  animation: pulse-off 1.5s infinite;\r\n}\r\n.status-text {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n.device-card.active .status-text {\r\n  color: #4caf50;\r\n}\r\n.device-card.warn .status-text {\r\n  color: #e74c3c;\r\n}\r\n\r\n/* é¥²æ–™å¡ç‰‡å“åº”å¼è°ƒæ•´ */\r\n.feed-card {\r\n  grid-column: span 2;  /* å¤§å±è·¨2åˆ— */\r\n  min-height: 160px;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  text-align: left;\r\n  padding: 1.2rem;\r\n}\r\n/* å°å±å¹•é¥²æ–™å¡ç‰‡è·¨1åˆ— */\r\n@media (max-width: 576px) {\r\n  .feed-card { grid-column: span 1; }\r\n}\r\n\r\n/* é¥²æ–™é‡é‡è¿›åº¦æ¡ä¼˜åŒ– */\r\n.feed-card .progress-container { \r\n  display: flex; \r\n  align-items: center; \r\n  gap: 1.5rem; \r\n  justify-content: flex-start; \r\n  width: 100%;\r\n  margin-top: 0.5rem;\r\n}\r\n.progress-bar {\r\n  width: 50px;  /* çª„åŒ–è¿›åº¦æ¡ */\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  background-color: #f5f5f5;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1) inset;\r\n}\r\n.progress-fill {\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0;\r\n  transition: height 0.8s ease;\r\n  border-radius: 8px;\r\n}\r\n.progress-marker {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 3px;\r\n  background-color: #333;\r\n  transform: translateY(50%);\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.progress-fill.low { \r\n  background: linear-gradient(to top, #e74c3c, #ff5252) !important;\r\n  animation: pulse 1.5s infinite; \r\n}\r\n.weight-info { \r\n  display: flex; \r\n  flex-direction: column; \r\n  gap: 0.5rem; \r\n  align-items: flex-start; \r\n}\r\n.weight-info span {\r\n  font-weight: 500;\r\n}\r\n.low-warning {\r\n  color: #e74c3c;\r\n  font-size: 0.85rem;\r\n  font-weight: bold;\r\n  animation: shake 1s infinite;\r\n}\r\n\r\n/* åœ°å›¾åŒºåŸŸä¼˜åŒ–ï¼šé«˜åº¦è‡ªé€‚åº” */\r\n.map-section { \r\n  padding-bottom: 1.5rem; \r\n}\r\n.map-container { \r\n  width: 100%; \r\n  height: 500px;  /* é™ä½é»˜è®¤é«˜åº¦ */\r\n  position: relative; \r\n  border-radius: 8px; \r\n  overflow: hidden; \r\n  border: 1px solid #f0f0f0;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\r\n}\r\n/* å°å±å¹•åœ°å›¾é«˜åº¦é™ä½ */\r\n@media (max-width: 768px) {\r\n  .map-container { height: 350px; }\r\n}\r\n.map-view { width: 100%; height: 100%; }\r\n.map-status { \r\n  position: absolute; \r\n  top: 15px; \r\n  right: 15px; \r\n  background: rgba(255,255,255,0.95);\r\n  padding: 0.6rem 1rem; \r\n  border-radius: 6px; \r\n  box-shadow: 0 3px 10px rgba(0,0,0,0.1); \r\n  font-size: 0.9rem; \r\n  z-index: 10;  /* ç¡®ä¿åœ¨åœ°å›¾ä¹‹ä¸Š */\r\n  transition: all 0.3s ease;\r\n}\r\n.map-status:hover {\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.15);\r\n}\r\n.map-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; background: #e74c3c; margin-left: 5px; }\r\n.map-dot.green { background: #27ae60; }\r\n.map-data { \r\n  position: absolute; \r\n  bottom: 15px; \r\n  left: 15px; \r\n  background: rgba(255,255,255,0.95); \r\n  padding: 0.8rem; \r\n  border-radius: 6px; \r\n  box-shadow: 0 3px 10px rgba(0,0,0,0.1); \r\n  font-size: 0.9rem; \r\n  display: flex; \r\n  flex-wrap: wrap;  /* å°å±å¹•è‡ªåŠ¨æ¢è¡Œ */\r\n  gap: 1.2rem; \r\n  z-index: 10;\r\n  transition: all 0.3s ease;\r\n}\r\n.map-data:hover {\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.15);\r\n}\r\n.map-data > div { display: flex; gap: 0.5rem; }\r\n.map-data > div > span:first-child {\r\n  font-weight: 500;\r\n  color: #555;\r\n}\r\n\r\n\r\n/* åº•éƒ¨åŒºåŸŸä¼˜åŒ– */\r\n.footer { \r\n  height: 60px;  /* å¢åŠ é«˜åº¦ï¼Œæå‡ç‚¹å‡»åŒºåŸŸ */\r\n  display: flex; \r\n  justify-content: space-between; \r\n  align-items: center; \r\n  padding: 0 2rem; \r\n  background: #2c3e50; \r\n  color: #fff; \r\n  font-size: 0.9rem; \r\n  box-shadow: 0 -2px 10px rgba(0,0,0,0.1);\r\n}\r\n.refresh { \r\n  background: #3498db; \r\n  color: #fff; \r\n  border: none; \r\n  border-radius: 6px; \r\n  padding: 0.5rem 1.2rem;  /* æ‰©å¤§ç‚¹å‡»åŒºåŸŸ */\r\n  display: flex; \r\n  align-items: center; \r\n  gap: 0.5rem; \r\n  cursor: pointer; \r\n  transition: all 0.3s ease;\r\n  font-weight: 500;\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n}\r\n.refresh:hover { \r\n  background: #2980b9; \r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.15);\r\n}\r\n.refresh:active { \r\n  transform: translateY(0);\r\n  box-shadow: 0 2px 3px rgba(0,0,0,0.1);\r\n}\r\n\r\n\r\n/* å“åº”å¼æ–­ç‚¹ç»†åŒ– */\r\n/* è¶…å°å±å¹•ï¼ˆæ‰‹æœºï¼‰ */\r\n@media (max-width: 576px) {\r\n  .top-bar { padding: 0.8rem 1rem; }\r\n  .weather-info { gap: 0.8rem; font-size: 0.85rem; }\r\n  .main-content { padding: 1rem 0.5rem; gap: 1rem; }\r\n  .panel { padding: 1rem; }\r\n  .device-grid { gap: 0.8rem; }\r\n  .map-data { gap: 0.8rem; padding: 0.6rem; font-size: 0.85rem; }\r\n  .status-cards .val { font-size: 1.8rem; }\r\n}\r\n\r\n/* å°å±å¹•ï¼ˆå¹³æ¿ç«–å±ï¼‰ */\r\n@media (min-width: 577px) and (max-width: 768px) {\r\n  .device-grid { grid-template-columns: repeat(2, 1fr); }\r\n  .charts .charts-grid { height: 350px; }\r\n}\r\n\r\n/* ä¸­ç­‰å±å¹•ï¼ˆå¹³æ¿æ¨ªå±ï¼‰ */\r\n@media (min-width: 769px) and (max-width: 992px) {\r\n  .device-grid { grid-template-columns: repeat(3, 1fr); }\r\n  .charts .charts-grid { height: 380px; }\r\n}\r\n\r\n/* å¤§å±å¹•ï¼ˆæ¡Œé¢ï¼‰ */\r\n@media (min-width: 993px) and (max-width: 1200px) {\r\n  .device-grid { grid-template-columns: repeat(4, 1fr); }\r\n}\r\n\r\n/* è¶…å¤§å±å¹• */\r\n@media (min-width: 1201px) {\r\n  .device-grid { grid-template-columns: repeat(4, 1fr); }\r\n}\r\n\r\n/* åŠ¨ç”»æ•ˆæœ */\r\n@keyframes pulse { \r\n  0% { \r\n    opacity: 1;\r\n    box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.4);\r\n  } \r\n  70% { \r\n    opacity: 0.7;\r\n    box-shadow: 0 0 0 8px rgba(231, 76, 60, 0);\r\n  } \r\n  100% { \r\n    opacity: 1;\r\n    box-shadow: 0 0 0 0 rgba(231, 76, 60, 0);\r\n  }\r\n}\r\n\r\n@keyframes pulse-on {\r\n  0% {\r\n    box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4);\r\n  }\r\n  70% {\r\n    box-shadow: 0 0 0 8px rgba(76, 175, 80, 0);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);\r\n  }\r\n}\r\n\r\n@keyframes pulse-off {\r\n  0% {\r\n    box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.4);\r\n  }\r\n  70% {\r\n    box-shadow: 0 0 0 8px rgba(231, 76, 60, 0);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0 rgba(231, 76, 60, 0);\r\n  }\r\n}\r\n\r\n@keyframes shake {\r\n  0%, 100% { transform: translateX(0); }\r\n  25% { transform: translateX(-3px); }\r\n  75% { transform: translateX(3px); }\r\n}\r\n\r\n/* åŠ è½½çŠ¶æ€åŠ¨ç”» */\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(10px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n.panel, .device-card, .status-cards .card {\r\n  animation: fadeIn 0.5s ease forwards;\r\n}\r\n\r\n.panel:nth-child(1) { animation-delay: 0.1s; }\r\n.panel:nth-child(2) { animation-delay: 0.2s; }\r\n.panel:nth-child(3) { animation-delay: 0.3s; }\r\n.panel:nth-child(4) { animation-delay: 0.4s; }\r\n</style>\r\n"],"mappings":";;;AAkMA,YAAAA,OAAA;AACA,OAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACA;MACAC,OAAA;QACAC,IAAA,SAAAC,IAAA,GAAAC,QAAA,cAAAD,IAAA,GAAAE,OAAA;QACAC,OAAA,iDAAAH,IAAA,GAAAI,MAAA;QACAN,OAAA;QACAO,OAAA;QACAC,OAAA;QACAC,OAAA;QACAC,SAAA;MACA;MACAC,QAAA,MAAAT,IAAA,GAAAU,kBAAA;MACAC,OAAA;MAAA;MACAC,IAAA;MAAA;MACAC,GAAA;MAAA;MACAC,WAAA;MAAA;MACAC,UAAA;MAAA;MACAC,SAAA;QAAAC,GAAA;QAAAC,GAAA;MAAA;MACAC,QAAA;QAAAF,GAAA;QAAAC,GAAA;MAAA;MAEA;MACAE,MAAA;MACAC,UAAA;MAEA;MACAC,KAAA;QAAAC,MAAA;QAAAC,KAAA;MAAA;MACAC,MAAA;MACAC,OAAA,GACA;QAAA9B,IAAA;QAAA2B,MAAA;MAAA,GACA;QAAA3B,IAAA;QAAA2B,MAAA;MAAA,GACA;QAAA3B,IAAA;QAAA2B,MAAA;MAAA,GACA;QAAA3B,IAAA;QAAA2B,MAAA;MAAA,GACA;QAAA3B,IAAA;QAAA2B,MAAA;MAAA,GACA;QAAA3B,IAAA;QAAA2B,MAAA;MAAA,EACA;MAEA;MACAI,QAAA;MACAC,OAAA;MACAC,UAAA;MAAA;MACAC,UAAA;MACAC,SAAA;MACAC,MAAA;MACAC,aAAA;MACAC,QAAA;MACAC,OAAA;MACAC,UAAA;MACAC,UAAA;MAEA;MACAC,IAAA;MACAC,IAAA;MACAC,MAAA;MAAA;MACAC,MAAA;MACAC,SAAA;MACAC,GAAA;MACAC,MAAA;MAEA;MACAC,SAAA;MACAC,QAAA;MACAC,eAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,WAAA;MACA,MAAAC,OAAA,GAAAC,QAAA,CAAAC,cAAA;MACA,MAAAC,MAAA,GAAAF,QAAA,CAAAC,cAAA;MACA,KAAAF,OAAA,KAAAG,MAAA;MAEA,KAAAR,SAAA,GAAAnD,OAAA,CAAA4D,IAAA,CAAAJ,OAAA;MACA,KAAAJ,QAAA,GAAApD,OAAA,CAAA4D,IAAA,CAAAD,MAAA;MAEAE,MAAA,CAAAC,gBAAA;QACA,KAAAX,SAAA,EAAAY,MAAA;QACA,KAAAX,QAAA,EAAAW,MAAA;MACA;MACA,KAAAC,YAAA;IACA;IACAA,aAAA;MACA;MACA,MAAAC,eAAA,GAAAC,IAAA;QACA,OAAAA,IAAA,cACA;UAAA3C,GAAA,OAAAD,SAAA,CAAAC,GAAA;UAAAC,GAAA,OAAAF,SAAA,CAAAE,GAAA;QAAA,IACA;UAAAD,GAAA,OAAAE,QAAA,CAAAF,GAAA;UAAAC,GAAA,OAAAC,QAAA,CAAAD,GAAA;QAAA;MACA;;MAEA;MACA,MAAA2C,UAAA,QAAA/C,WAAA,CAAA6B,GAAA,CAAAmB,CAAA,IAAAA,CAAA,CAAAtC,KAAA;MACA,MAAAuC,SAAA,QAAAjD,WAAA,CAAA6B,GAAA,CAAAmB,CAAA,IAAAA,CAAA,CAAAE,IAAA;MACA,MAAAhD,SAAA,GAAA6C,UAAA,CAAAI,MAAA,GACA;QACAhD,GAAA,EAAAiD,IAAA,CAAAjD,GAAA,IAAA4C,UAAA,OAAA7C,SAAA,CAAAC,GAAA;QACAC,GAAA,EAAAgD,IAAA,CAAAhD,GAAA,IAAA2C,UAAA,OAAA7C,SAAA,CAAAE,GAAA;MACA,IACAyC,eAAA;MAEA,KAAAd,SAAA,CAAAsB,SAAA;QACAC,OAAA;UAAAC,OAAA;QAAA;QACAC,IAAA;UAAAC,IAAA;UAAAC,KAAA;UAAAC,MAAA;UAAAC,YAAA;QAAA;QACAC,KAAA;UACAf,IAAA;UACA/D,IAAA,EAAAkE,SAAA,CAAAE,MAAA,GAAAF,SAAA;UACAa,SAAA;YAAAC,MAAA;UAAA;QACA;QACAC,KAAA;UACAlB,IAAA;UACAhE,IAAA;UACAqB,GAAA,EAAAD,SAAA,CAAAC,GAAA;UACAC,GAAA,EAAAF,SAAA,CAAAE,GAAA;UACA6D,QAAA;YACAlF,IAAA,GACA;cAAAiF,KAAA,OAAA9D,SAAA,CAAAC,GAAA;cAAArB,IAAA;cAAAoF,SAAA;gBAAAC,KAAA;cAAA;YAAA,GACA;cAAAH,KAAA,OAAA9D,SAAA,CAAAE,GAAA;cAAAtB,IAAA;cAAAoF,SAAA;gBAAAC,KAAA;cAAA;YAAA;UAEA;QACA;QACAC,MAAA;UACAtF,IAAA;UACAgE,IAAA;UACA/D,IAAA,EAAAgE,UAAA,CAAAI,MAAA,GAAAJ,UAAA;UAAA;UACAsB,MAAA;UACAH,SAAA;YAAAC,KAAA;UAAA;UACAG,SAAA;YAAAH,KAAA;UAAA;UACAI,SAAA;YAAAJ,KAAA,MAAAvF,OAAA,CAAA4F,OAAA,CAAAC,cAAA,cACA;cAAAC,MAAA;cAAAP,KAAA;YAAA,GACA;cAAAO,MAAA;cAAAP,KAAA;YAAA,EACA;UAAA;QACA;MACA;;MAEA;MACA,MAAAQ,SAAA,QAAA1E,UAAA,CAAA4B,GAAA,CAAAmB,CAAA,IAAAA,CAAA,CAAAtC,KAAA;MACA,MAAAkE,QAAA,QAAA3E,UAAA,CAAA4B,GAAA,CAAAmB,CAAA,IAAAA,CAAA,CAAAE,IAAA;MACA,MAAA7C,QAAA,GAAAsE,SAAA,CAAAxB,MAAA,GACA;QACAhD,GAAA,EAAAiD,IAAA,CAAAjD,GAAA,IAAAwE,SAAA,OAAAtE,QAAA,CAAAF,GAAA;QACAC,GAAA,EAAAgD,IAAA,CAAAhD,GAAA,IAAAuE,SAAA,OAAAtE,QAAA,CAAAD,GAAA;MACA,IACAyC,eAAA;MAEA,KAAAb,QAAA,CAAAqB,SAAA;QACAC,OAAA;UAAAC,OAAA;QAAA;QACAC,IAAA;UAAAC,IAAA;UAAAC,KAAA;UAAAC,MAAA;UAAAC,YAAA;QAAA;QACAC,KAAA;UACAf,IAAA;UACA/D,IAAA,EAAA6F,QAAA,CAAAzB,MAAA,GAAAyB,QAAA;UACAd,SAAA;YAAAC,MAAA;UAAA;QACA;QACAC,KAAA;UACAlB,IAAA;UACAhE,IAAA;UACAqB,GAAA,EAAAE,QAAA,CAAAF,GAAA;UACAC,GAAA,EAAAC,QAAA,CAAAD,GAAA;UACA6D,QAAA;YACAlF,IAAA,GACA;cAAAiF,KAAA,OAAA3D,QAAA,CAAAF,GAAA;cAAArB,IAAA;cAAAoF,SAAA;gBAAAC,KAAA;cAAA;YAAA,GACA;cAAAH,KAAA,OAAA3D,QAAA,CAAAD,GAAA;cAAAtB,IAAA;cAAAoF,SAAA;gBAAAC,KAAA;cAAA;YAAA;UAEA;QACA;QACAC,MAAA;UACAtF,IAAA;UACAgE,IAAA;UACA/D,IAAA,EAAA4F,SAAA,CAAAxB,MAAA,GAAAwB,SAAA;UAAA;UACAN,MAAA;UACAH,SAAA;YAAAC,KAAA;UAAA;UACAG,SAAA;YAAAH,KAAA;UAAA;UACAI,SAAA;YAAAJ,KAAA,MAAAvF,OAAA,CAAA4F,OAAA,CAAAC,cAAA,cACA;cAAAC,MAAA;cAAAP,KAAA;YAAA,GACA;cAAAO,MAAA;cAAAP,KAAA;YAAA,EACA;UAAA;QACA;MACA;IACA;IAEA;IACAU,cAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAA;MACA,MAAAC,OAAA,OAAA/F,IAAA,GAAAgG,kBAAA;MACA,IAAAF,OAAA;QACA;QACAF,GAAA,CAAAK,MAAA,IAAAL,GAAA,CAAA3B,MAAA;QACA,SAAAH,CAAA,MAAAA,CAAA,QAAAhC,UAAA,EAAAgC,CAAA;UACA8B,GAAA,CAAAM,IAAA;YAAAlC,IAAA,EAAA+B,OAAA;YAAAvE,KAAA,EAAAqE;UAAA;QACA;MACA;QACA;QACAD,GAAA,CAAAM,IAAA;UAAAlC,IAAA,EAAA+B,OAAA;UAAAvE,KAAA,EAAAqE;QAAA;QACA,IAAAD,GAAA,CAAA3B,MAAA,QAAAnC,UAAA,EAAA8D,GAAA,CAAAO,KAAA;MACA;IACA;IAEA;IACAC,QAAA;MACA,MAAAC,OAAA,GAAAA,CAAA,SAAAC,OAAA,EAAAC,GAAA,EAAAC,GAAA;QACA,IAAAjD,MAAA,CAAAkD,IAAA,SAAAF,GAAA,CAAAhD,MAAA,CAAAkD,IAAA;QACA,MAAAC,MAAA,GAAAvD,QAAA,CAAAwD,aAAA;QACAD,MAAA,CAAAE,GAAA;QACAF,MAAA,CAAAG,MAAA,SAAAN,GAAA,CAAAhD,MAAA,CAAAkD,IAAA,IAAAD,GAAA,KAAAM,KAAA;QACAJ,MAAA,CAAAK,OAAA,SAAAP,GAAA,KAAAM,KAAA;QACA3D,QAAA,CAAA6D,IAAA,CAAAC,WAAA,CAAAP,MAAA;MACA;MAEAL,OAAA,GAAAa,IAAA,CAAAT,IAAA;QACA,KAAA9D,GAAA,OAAA8D,IAAA,CAAAU,GAAA;UACAC,YAAA;UACAC,IAAA;UACAC,MAAA;UACAC,QAAA;QACA;QAEA,KAAA3E,MAAA,OAAA6D,IAAA,CAAAe,MAAA;UACAC,QAAA;UACAC,IAAA,MAAAjB,IAAA,CAAAkB,IAAA;YACAC,IAAA,MAAAnB,IAAA,CAAAoB,IAAA;YACAC,KAAA,EAAAnI,UAAA;YACAoI,SAAA,MAAAtB,IAAA,CAAAoB,IAAA;YACAG,WAAA,MAAAvB,IAAA,CAAAwB,KAAA;UACA;UACAC,MAAA;QACA;QACA,KAAAvF,GAAA,CAAAwF,GAAA,MAAAvF,MAAA;QAEA,KAAAD,GAAA,CAAAyF,EAAA,wBAAA1F,SAAA;QACA,KAAAC,GAAA,CAAAyF,EAAA,qBAAA1F,SAAA;MACA,GAAA2F,KAAA,CAAAC,GAAA;QACA,KAAA5F,SAAA;QACA6F,OAAA,CAAAC,KAAA,CAAAF,GAAA;MACA;IACA;IAEA;IACAG,cAAA;MACA,KAAArH,MAAA,OAAAsH,SAAA,MAAArH,UAAA;MAEA,KAAAD,MAAA,CAAAuH,MAAA;QACA,KAAAhH,QAAA;QACA,KAAAC,OAAA;MACA;;MAEA;MACA,KAAAR,MAAA,CAAAwH,SAAA,GAAAC,KAAA;QACA,KAAAlI,OAAA;QACA;UACA,MAAAd,IAAA,GAAAiJ,IAAA,CAAAC,KAAA,CAAAF,KAAA,CAAAhJ,IAAA;UACA0I,OAAA,CAAAS,GAAA,UAAAnJ,IAAA;;UAEA;UACA,MAAAoJ,OAAA,UAAApJ,IAAA,CAAAqJ,CAAA,gBAAArJ,IAAA,CAAAqJ,CAAA,QAAAtI,IAAA;UACA,MAAAuI,MAAA,UAAAtJ,IAAA,CAAAuJ,CAAA,gBAAAvJ,IAAA,CAAAuJ,CAAA,QAAAvI,GAAA;UAEA,IAAAoI,OAAA,gBAAArI,IAAA,GAAAqI,OAAA;UACA,IAAAE,MAAA,gBAAAtI,GAAA,GAAAsI,MAAA;;UAEA;UACA,KAAAjH,QAAA,QAAAtB,IAAA,mBAAAA,IAAA,QAAAI,SAAA,CAAAC,GAAA,SAAAL,IAAA,QAAAI,SAAA,CAAAE,GAAA;UACA,KAAAiB,OAAA,QAAAtB,GAAA,mBAAAA,GAAA,QAAAM,QAAA,CAAAF,GAAA,SAAAJ,GAAA,QAAAM,QAAA,CAAAD,GAAA;;UAEA;UACA,KAAAI,KAAA;YACAC,MAAA,EAAA8H,QAAA,CAAAxJ,IAAA,CAAAyJ,WAAA;YACA9H,KAAA,EAAA6H,QAAA,CAAAxJ,IAAA,CAAAyJ,WAAA;UACA;UACA,KAAAlH,UAAA,QAAAd,KAAA,CAAAC,MAAA;;UAEA;UACA,KAAAE,MAAA,GAAAyC,IAAA,CAAAjD,GAAA,CAAAiD,IAAA,CAAAhD,GAAA,CAAArB,IAAA,CAAA4B,MAAA;UACA,KAAAQ,aAAA,GAAAiC,IAAA,CAAAjD,GAAA,CAAAiD,IAAA,CAAAhD,GAAA,MAAAO,MAAA;;UAEA;UACA,KAAAC,OAAA,IAAAH,MAAA,GAAA8H,QAAA,CAAAxJ,IAAA,CAAA0J,IAAA;UACA,KAAA7H,OAAA,IAAAH,MAAA,GAAA8H,QAAA,CAAAxJ,IAAA,CAAA2J,KAAA;UACA,KAAA9H,OAAA,IAAAH,MAAA,GAAA8H,QAAA,CAAAxJ,IAAA,CAAA4J,KAAA;UACA,KAAA/H,OAAA,IAAAH,MAAA,GAAA8H,QAAA,CAAAxJ,IAAA,CAAA6J,IAAA;UACA,KAAAhI,OAAA,IAAAH,MAAA,GAAA8H,QAAA,CAAAxJ,IAAA,CAAA8J,IAAA;UACA,KAAAjI,OAAA,IAAAH,MAAA,GAAA8H,QAAA,CAAAxJ,IAAA,CAAA+J,GAAA;;UAEA;UACA,MAAA9D,OAAA,SAAA/C,eAAA;UACA,SAAAnC,IAAA;YACA,KAAA+E,aAAA,MAAA7E,WAAA,OAAAF,IAAA,EAAAkF,OAAA;UACA;UACA,SAAAjF,GAAA;YACA,KAAA8E,aAAA,MAAA5E,UAAA,OAAAF,GAAA,EAAAiF,OAAA;UACA;;UAEA;UACA,IAAAA,OAAA,OAAA/C,eAAA;UAEA,KAAAlB,UAAA,OAAA7B,IAAA,GAAA6J,cAAA;UACA,KAAAnG,YAAA;;UAEA;UACA,IAAA7D,IAAA,CAAAiK,GAAA,IAAAjK,IAAA,CAAAkK,GAAA;YACA,KAAAzH,IAAA,GAAAzC,IAAA,CAAAiK,GAAA;YACA,KAAAvH,IAAA,GAAA1C,IAAA,CAAAkK,GAAA;YACA,KAAAvH,MAAA,SAAAF,IAAA,OAAAC,IAAA;YACA,KAAAK,MAAA,EAAAoH,WAAA,EAAAnK,IAAA,CAAAiK,GAAA,SAAAjK,IAAA,CAAAkK,GAAA;YACA,KAAApH,GAAA,EAAAsH,KAAA,EAAApK,IAAA,CAAAiK,GAAA,SAAAjK,IAAA,CAAAkK,GAAA;cAAAG,QAAA;YAAA;UACA;UACA,IAAArK,IAAA,CAAAsK,IAAA,OAAA1H,MAAA,GAAA5C,IAAA,CAAAsK,IAAA;UACA,KAAAvH,MAAA,EAAAwH,WAAA,EAAAvK,IAAA,CAAAsK,IAAA;QAEA,SAAAE,CAAA;UACA9B,OAAA,CAAAC,KAAA,YAAA6B,CAAA;QACA;MACA;MAEA,KAAAjJ,MAAA,CAAA2F,OAAA;QACA,KAAApF,QAAA;QACA,KAAAC,OAAA;MACA;MAEA,KAAAR,MAAA,CAAAkJ,OAAA;QACA,KAAA3I,QAAA;QACA,KAAAC,OAAA;QACA2I,UAAA,YAAA9B,aAAA;MACA;IACA;IAEA;IACA+B,QAAA;MACA,SAAApJ,MAAA,EAAAqJ,UAAA,KAAA/B,SAAA,CAAAgC,IAAA;QACA,KAAAtJ,MAAA,CAAAuJ,IAAA,CAAA7B,IAAA,CAAA8B,SAAA;UAAAhH,IAAA;QAAA;QACA,KAAA/B,UAAA,OAAA7B,IAAA,GAAA6J,cAAA;MACA;IACA;EACA;EACAgB,QAAA;IACA,KAAAC,SAAA;MACA,KAAA7H,UAAA;MACA,KAAAmD,OAAA;MACA,KAAAqC,aAAA;IACA;EACA;EACAsC,cAAA;IACA;IACA,KAAA3J,MAAA,EAAA4J,KAAA;IACA,KAAAnI,SAAA,EAAAoI,OAAA;IACA,KAAAnI,QAAA,EAAAmI,OAAA;IACA,KAAAtI,GAAA,EAAAuI,OAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}